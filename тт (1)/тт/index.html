<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>TUT_001 Website</title>
</head>
<body class="">
   
    <!-- Навигация -->
    <div class="tut_nav_004_container scale-container" id="tutNav">
        <!-- Десктопная навигация -->
        <div class="tut_nav_004_nav">
            <!-- Логотип -->
            <div class="tut_nav_004_logo" onclick="toggleNav()">
                <div class="tut_nav_004_logo_icon">ТУТ</div>
                <div class="tut_nav_004_logo_text">Таверна у Табакси</div>
            </div>

            <!-- Центральное меню -->
            <div class="tut_nav_004_menu">
                <a href="#" class="tut_nav_004_menu_item active">Главная</a>
                <a href="#" class="tut_nav_004_menu_item">Партии</a>
                <a href="#" class="tut_nav_004_menu_item">Мастера</a>
                <a href="#" class="tut_nav_004_menu_item">Сообщество</a>
            </div>

            <div class="tut_nav_004_toggle_wrap">
                <!-- Кнопка личного кабинета -->
                <button class="tut_nav_004_profile">
                    <svg class="tut_nav_004_profile_icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                    <span>Личный кабинет</span>
                </button>

                <!-- Стрелка для сворачивания -->
                <div class="tut_nav_004_toggle" onclick="toggleNav()">
                    <svg class="tut_nav_004_toggle_icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Мобильное меню -->
        <div class="tut_nav_004_mobile_menu">
            <a href="#" class="tut_nav_004_mobile_item active">
                <svg class="tut_nav_004_mobile_icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
                <span class="tut_nav_004_mobile_label">Главная</span>
            </a>
            <a href="#" class="tut_nav_004_mobile_item">
                <svg class="tut_nav_004_mobile_icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                </svg>
                <span class="tut_nav_004_mobile_label">Партии</span>
            </a>
            <a href="#" class="tut_nav_004_mobile_item">
                <svg class="tut_nav_004_mobile_icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                </svg>
                <span class="tut_nav_004_mobile_label">Мастера</span>
            </a>
            <a href="#" class="tut_nav_004_mobile_item">
                <svg class="tut_nav_004_mobile_icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                </svg>
                <span class="tut_nav_004_mobile_label">Сообщество</span>
            </a>
            <a href="#" class="tut_nav_004_mobile_item">
                <svg class="tut_nav_004_mobile_icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                </svg>
                <span class="tut_nav_004_mobile_label">Профиль</span>
            </a>
        </div>
    </div>






    <!-- Главный экран -->
    <section class="tut_001_hero" style=" background-image: url('img/main.png');">
        <div class="tut_001_container scale-container">
            <div class="tut_001_hero_content">
                <h1 class="tut_001_hero_title">Таверна табакси</h1>
                <h3 class="tut_001_hero_description_two">Место твоих фантазий</h3>
                <p class="tut_001_hero_description">Присоединяйся к приключениям или стань их создателем. Найди свою партию, создай персонажа и погрузись в мир безграничных историй. Твоя легенда начинается здесь.</p>
            </div>
        </div>
    </section>

    <!-- Второй блок -->
    <section class="tut_001_second_section">
        <div class="tut_001_container scale-container">
            <div class="tut_001_section_header">
                <div class="tut_001_section_icon appearance-effect">
                    <img src="img/Star.svg" alt="">
                </div>
                <h2 class="tut_001_section_title appearance-effect">инструменты<br>для вашего приключения</h2>
            </div>
            <p class="tut_001_section_description appearance-effect">От поиска команды до ведения персонажа — все необходимое для игрока и Мастера в одном месте. Выберите, куда направить свой путь.</p>
            
            <div class="tut_001_cards_container">
                <div class="tut_001_card appearance-effect">
                    <img src="img/pl1.png" alt="Плашка 1" class="tut_001_card_image">
                    <div class="tut_001_card_overlay">
                        <div class="tut_001_card_content">
                            <h3 class="tut_001_card_title">Поиск команды</h3>
                        </div>
                    </div>
                </div>
                
                <div class="tut_001_card appearance-effect">
                    <img src="img/pl2.png" alt="Плашка 2" class="tut_001_card_image">
                    <div class="tut_001_card_overlay">
                        <div class="tut_001_card_content">
                            <h3 class="tut_001_card_title">Лист персонажа</h3>
                        </div>
                    </div>
                </div>
                
                <div class="tut_001_card appearance-effect">
                    <img src="img/pl1.png " alt="Плашка 3" class="tut_001_card_image">
                    <div class="tut_001_card_overlay">
                        <div class="tut_001_card_content">
                            <h3 class="tut_001_card_title">Хп Трекер</h3>
                        </div>
                    </div>
                </div>
                
                <div class="tut_001_card appearance-effect">
                    <img src="https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05" alt="Плашка 4" class="tut_001_card_image">
                    <div class="tut_001_card_overlay">
                        <div class="tut_001_card_content">
                            <h3 class="tut_001_card_title">Плашка 4</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Простой скрипт для плавного появления элементов при скролле
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.appearance-effect');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = 1;
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            cards.forEach(card => {
                card.style.opacity = 0;
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(card);
            });
        });


(function() {
    // Конфигурация
    const config = {
        minWidth: 400,           // Минимальная ширина экрана
        maxWidth: 5000,          // Максимальная ширина экрана  
        baseWidth: 1200,         // Базовая ширина контента
        scaleCorrection: 0.94,   // Поправка масштаба
        resizeDelay: 250,        // Задержка при ресайзе
        scaleMode: 'transform',  // 'transform' или 'zoom'
        
        // Селекторы блоков для масштабирования
        targetSelector: '.scale-container',
        
        // Селекторы блоков для исключения
        excludeSelectors: [
            '.no-scale',
            '[data-no-scale]'
        ]
    };

    class AutoScaler {
        constructor(config) {
            this.config = config;
            this.scaleRatio = 1;
            this.init();
        }

        init() {
            this.applyScaling();
            this.bindEvents();
        }

        // Получение всех блоков для масштабирования
        getTargetBlocks() {
            const blocks = document.querySelectorAll(this.config.targetSelector);
            
            return Array.from(blocks).filter(block => {
                // Проверка на исключения
                return !this.config.excludeSelectors.some(selector => 
                    block.matches(selector) || block.closest(selector)
                );
            });
        }

        // Расчет коэффициента масштабирования
        calculateScaleRatio() {
            const windowWidth = window.innerWidth;
            
            // Если ширина вне диапазона - не масштабируем
            if (windowWidth < this.config.minWidth || windowWidth > this.config.maxWidth) {
                return 1;
            }

            // Расчет масштаба
            return (windowWidth / this.config.baseWidth) * this.config.scaleCorrection;
        }

        // Применение масштабирования к блокам
        applyScaling() {
            this.scaleRatio = this.calculateScaleRatio();
            const blocks = this.getTargetBlocks();

            blocks.forEach(block => {
                if (this.config.scaleMode === 'transform') {
                    this.applyTransformScale(block);
                } else {
                    this.applyZoomScale(block);
                }
            });

            // Сохраняем коэффициент в CSS переменной
            document.documentElement.style.setProperty('--scale-ratio', this.scaleRatio);
        }

        // Масштабирование через transform
        applyTransformScale(block) {
            block.style.transform = `scale(${this.scaleRatio})`;
            block.style.transformOrigin = 'top center';
            block.style.width = `${this.config.baseWidth}px`;
            block.style.margin = '0 auto';
        }

        // Масштабирование через zoom
        applyZoomScale(block) {
            block.style.zoom = this.scaleRatio;
        }

        // Обработка событий
        bindEvents() {
            let resizeTimeout;
            
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    this.applyScaling();
                }, this.config.resizeDelay);
            });

            // Повторное масштабирование после загрузки шрифтов
            document.fonts?.ready?.then(() => {
                setTimeout(() => this.applyScaling(), 100);
            });

            // Масштабирование при полной загрузке DOM
            document.addEventListener('DOMContentLoaded', () => {
                this.applyScaling();
            });
        }

        // Обновление конфигурации
        updateConfig(newConfig) {
            Object.assign(this.config, newConfig);
            this.applyScaling();
        }
    }

    // Инициализация
    window.autoScaler = new AutoScaler(config);
    
})();







        const nav = document.getElementById('tutNav');
        let isCollapsed = false;
        let scrollTimeout;
        let userManuallyOpened = false; // Флаг ручного открытия

        // Проверяем мобильное устройство
        function isMobile() {
            return window.innerWidth <= 768;
        }

        // Обработчик прокрутки для автоматического сворачивания (только для десктопа)
        window.addEventListener('scroll', function() {
            if (!isMobile() && !isCollapsed && !userManuallyOpened) {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    collapseNav();
                }, 500);
            }
        });

        // Функция сворачивания
        function collapseNav() {
            if (!isMobile()) {
                nav.classList.add('collapsed');
                isCollapsed = true;
            }
        }

        // Функция разворачивания
        function expandNav() {
            if (!isMobile()) {
                nav.classList.remove('collapsed');
                isCollapsed = false;
                userManuallyOpened = true; // Пользователь сам открыл - больше не сворачиваем
            }
        }

        // Функция переключения состояния навигации
        function toggleNav() {
            if (!isMobile()) {
                if (isCollapsed) {
                    expandNav();
                } else {
                    collapseNav();
                }
                
                // Сбрасываем таймер при ручном управлении
                clearTimeout(scrollTimeout);
            }
        }

        // Обработчик изменения размера окна
        window.addEventListener('resize', function() {
            if (isMobile()) {
                // На мобилке всегда развернутое состояние
                nav.classList.remove('collapsed');
                isCollapsed = false;
                userManuallyOpened = false;
            } else {
                // При переходе на десктоп сбрасываем флаг ручного открытия
                userManuallyOpened = false;
            }
        });

        // Инициализация при загрузке
        if (isMobile()) {
            nav.classList.remove('collapsed');
            isCollapsed = false;
            userManuallyOpened = false;
        }

        // Автоматическое сворачивание при первой загрузке (только для десктопа)
        window.addEventListener('load', function() {
            if (!isMobile()) {
                setTimeout(() => {
                    collapseNav();
                }, 1000);
            }
        });
    </script>
</body>
</html>