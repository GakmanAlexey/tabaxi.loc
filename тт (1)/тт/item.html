<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Магический меч света - tut_008</title>
    <link rel="stylesheet" href="styleitem.css">
</head>
<body> 
    <div class="tut_008_container scale-container">
                <!-- Основной контент -->
        <section class="tut_008_hero">
            <img src="img/item.png" 
                 alt="Магический меч света" class="tut_008_item_image">
            
            <div class="tut_008_item_content">
                <h1 class="tut_008_item_title">Магический меч света</h1>
                <div class="tut_008_item_rarity">Легендарный</div>
                <div class="tut_008_item_description">
                    <p>Древний эльфийский меч, наполненный силой солнечного света. Созданный в эпоху Войны Теней, этот клинок способен рассеивать любую тьму и наносить сокрушительный урон нежити и демонам.</p>
                    <p>Лезвие меча состоит из чистой световой энергии, заключенной в магический кристалл. При активации меч излучает мягкое свечение, освещая площадь в радиусе 10 метров. В бою свет становится ослепительно ярким, ослепляя противников.</p>
                    <p><strong>Особые свойства:</strong> +3 к попаданию и урону, дополнительный световой урон 2d8 против нежити и демонов, возможность активировать свечение (1 раз в день).</p>
                </div>
            </div>
        </section>

        <!-- Где найти/купить -->
        <section class="tut_008_section">
            <h2 class="tut_008_section_title">Где найти или купить</h2>
            <table class="tut_008_table">
                <tr>
                    <th>Локация</th>
                    <th>Тип</th>
                    <th>Условия</th>
                    <th>Шанс/Цена</th>
                </tr>
                <tr>
                    <td>Храм Солнечного Божества</td>
                    <td>Квестовая награда</td>
                    <td>Завершение квеста "Наследие Света"</td>
                    <td>100%</td>
                </tr>
                <tr>
                    <td>Древние эльфийские руины</td>
                    <td>Находка</td>
                    <td>В сундуке в тронном зале</td>
                    <td>25%</td>
                </tr>
                <tr>
                    <td>Магический базар Серебряного Города</td>
                    <td>Покупка</td>
                    <td>Репутация "Почитаемый" у магов</td>
                    <td>15,000 золотых</td>
                </tr>
                <tr>
                    <td>Аукцион Черного Рынка</td>
                    <td>Торги</td>
                    <td>Только в полнолуние</td>
                    <td>От 20,000 золотых</td>
                </tr>
            </table>
        </section>

        <!-- Крафт -->
        <section class="tut_008_section">
            <h2 class="tut_008_section_title">Создание (крафт)</h2>
            
            <!-- Плашки требований -->
            <div class="tut_008_requirements">
                <div class="tut_008_requirement_badge">Кузнечное дело - 90 ур.</div>
                <div class="tut_008_requirement_badge">Инструмент - Наковальня</div>
                <div class="tut_008_requirement_badge">Время создания - 7 дней</div>
                <div class="tut_008_requirement_badge">Магическая аффинность - 75 ур.</div>
            </div>

            <!-- Ингредиенты в виде табов -->
            <div class="tut_008_ingredients">
                <div class="tut_008_ingredient_tab">Солнечный кристалл ×1</div>
                <div class="tut_008_ingredient_tab">Мифриловая руда ×5</div>
                <div class="tut_008_ingredient_tab">Слеза феникса ×3</div>
                <div class="tut_008_ingredient_tab">Пыльца светлящегося мха ×10</div>
                <div class="tut_008_ingredient_tab">Эссенция света ×2</div>
                <div class="tut_008_ingredient_tab">Золотой слиток ×3</div>
                <div class="tut_008_ingredient_tab">Рунический камень ×1</div>
            </div>
        </section>

        <!-- Где используется -->
        <!-- <section class="tut_008_section">
            <h2 class="tut_008_section_title">Используется в создании</h2>
            
            <div class="tut_008_usage_list">
                <div class="tut_008_usage_item">Меч Вечного Света</div>
                <div class="tut_008_usage_item">Щит Светозащитника</div>
                <div class="tut_008_usage_item">Доспех Лученосца</div>
                <div class="tut_008_usage_item">Корона Солнечного Владыки</div>
                <div class="tut_008_usage_item">Посох Утренней Зари</div>
                <div class="tut_008_usage_item">Плащ Рассеивателя Тьмы</div>
            </div>
        </section> -->

        <section class="tut_008_section">
            <h2 class="tut_008_section_title">Используется в создании Меч Вечного Света</h2>
            
            <!-- Плашки требований -->
            <div class="tut_008_requirements">
                <div class="tut_008_requirement_badge">Кузнечное дело - 90 ур.</div>
                <div class="tut_008_requirement_badge">Инструмент - Наковальня</div>
                <div class="tut_008_requirement_badge">Время создания - 7 дней</div>
                <div class="tut_008_requirement_badge">Магическая аффинность - 75 ур.</div>
            </div>

            <!-- Ингредиенты в виде табов -->
            <div class="tut_008_ingredients">
                <div class="tut_008_ingredient_tab">Солнечный кристалл ×1</div>
                <div class="tut_008_ingredient_tab">Мифриловая руда ×5</div>
                <div class="tut_008_ingredient_tab tut_008_using_item">Магический меч света</div>
                <div class="tut_008_ingredient_tab">Пыльца светлящегося мха ×10</div>
                <div class="tut_008_ingredient_tab">Эссенция света ×2</div>
                <div class="tut_008_ingredient_tab">Золотой слиток ×3</div>
                <div class="tut_008_ingredient_tab">Рунический камень ×1</div>
            </div>
        </section>
        <section class="tut_008_section">
            <h2 class="tut_008_section_title">Используется в создании Щит Светозащитника</h2>
            
            <!-- Плашки требований -->
            <div class="tut_008_requirements">
                <div class="tut_008_requirement_badge">Кузнечное дело - 90 ур.</div>
                <div class="tut_008_requirement_badge">Инструмент - Наковальня</div>
                <div class="tut_008_requirement_badge">Время создания - 7 дней</div>
                <div class="tut_008_requirement_badge">Магическая аффинность - 75 ур.</div>
            </div>

            <!-- Ингредиенты в виде табов -->
            <div class="tut_008_ingredients">
                <div class="tut_008_ingredient_tab tut_008_using_item">Магический меч света</div>
                <div class="tut_008_ingredient_tab">Мифриловая руда ×5</div>
                <div class="tut_008_ingredient_tab">Слеза феникса ×3</div>
                <div class="tut_008_ingredient_tab">Пыльца светлящегося мха ×10</div>
                <div class="tut_008_ingredient_tab">Эссенция света ×2</div>
                <div class="tut_008_ingredient_tab">Золотой слиток ×3</div>
                <div class="tut_008_ingredient_tab">Рунический камень ×1</div>
            </div>
        </section>
    </div>

     <script>
        // Простой скрипт для плавного появления элементов при скролле
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.appearance-effect');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = 1;
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            cards.forEach(card => {
                card.style.opacity = 0;
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(card);
            });
        });


(function() {
    // Конфигурация
    const config = {
        minWidth: 400,           // Минимальная ширина экрана
        maxWidth: 5000,          // Максимальная ширина экрана  
        baseWidth: 1200,         // Базовая ширина контента
        scaleCorrection: 0.94,   // Поправка масштаба
        resizeDelay: 250,        // Задержка при ресайзе
        scaleMode: 'transform',  // 'transform' или 'zoom'
        
        // Селекторы блоков для масштабирования
        targetSelector: '.scale-container',
        
        // Селекторы блоков для исключения
        excludeSelectors: [
            '.no-scale',
            '[data-no-scale]'
        ]
    };

    class AutoScaler {
        constructor(config) {
            this.config = config;
            this.scaleRatio = 1;
            this.init();
        }

        init() {
            this.applyScaling();
            this.bindEvents();
        }

        // Получение всех блоков для масштабирования
        getTargetBlocks() {
            const blocks = document.querySelectorAll(this.config.targetSelector);
            
            return Array.from(blocks).filter(block => {
                // Проверка на исключения
                return !this.config.excludeSelectors.some(selector => 
                    block.matches(selector) || block.closest(selector)
                );
            });
        }

        // Расчет коэффициента масштабирования
        calculateScaleRatio() {
            const windowWidth = window.innerWidth;
            
            // Если ширина вне диапазона - не масштабируем
            if (windowWidth < this.config.minWidth || windowWidth > this.config.maxWidth) {
                return 1;
            }

            // Расчет масштаба
            return (windowWidth / this.config.baseWidth) * this.config.scaleCorrection;
        }

        // Применение масштабирования к блокам
        applyScaling() {
            this.scaleRatio = this.calculateScaleRatio();
            const blocks = this.getTargetBlocks();

            blocks.forEach(block => {
                if (this.config.scaleMode === 'transform') {
                    this.applyTransformScale(block);
                } else {
                    this.applyZoomScale(block);
                }
            });

            // Сохраняем коэффициент в CSS переменной
            document.documentElement.style.setProperty('--scale-ratio', this.scaleRatio);
        }

        // Масштабирование через transform
        applyTransformScale(block) {
            block.style.transform = `scale(${this.scaleRatio})`;
            block.style.transformOrigin = 'top center';
            block.style.width = `${this.config.baseWidth}px`;
            block.style.margin = '0 auto';
        }

        // Масштабирование через zoom
        applyZoomScale(block) {
            block.style.zoom = this.scaleRatio;
        }

        // Обработка событий
        bindEvents() {
            let resizeTimeout;
            
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    this.applyScaling();
                }, this.config.resizeDelay);
            });

            // Повторное масштабирование после загрузки шрифтов
            document.fonts?.ready?.then(() => {
                setTimeout(() => this.applyScaling(), 100);
            });

            // Масштабирование при полной загрузке DOM
            document.addEventListener('DOMContentLoaded', () => {
                this.applyScaling();
            });
        }

        // Обновление конфигурации
        updateConfig(newConfig) {
            Object.assign(this.config, newConfig);
            this.applyScaling();
        }
    }

    // Инициализация
    window.autoScaler = new AutoScaler(config);
    
})();







        const nav = document.getElementById('tutNav');
        let isCollapsed = false;
        let scrollTimeout;
        let userManuallyOpened = false; // Флаг ручного открытия

        // Проверяем мобильное устройство
        function isMobile() {
            return window.innerWidth <= 768;
        }

        // Обработчик прокрутки для автоматического сворачивания (только для десктопа)
        window.addEventListener('scroll', function() {
            if (!isMobile() && !isCollapsed && !userManuallyOpened) {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    collapseNav();
                }, 500);
            }
        });

        // Функция сворачивания
        function collapseNav() {
            if (!isMobile()) {
                nav.classList.add('collapsed');
                isCollapsed = true;
            }
        }

        // Функция разворачивания
        function expandNav() {
            if (!isMobile()) {
                nav.classList.remove('collapsed');
                isCollapsed = false;
                userManuallyOpened = true; // Пользователь сам открыл - больше не сворачиваем
            }
        }

        // Функция переключения состояния навигации
        function toggleNav() {
            if (!isMobile()) {
                if (isCollapsed) {
                    expandNav();
                } else {
                    collapseNav();
                }
                
                // Сбрасываем таймер при ручном управлении
                clearTimeout(scrollTimeout);
            }
        }

        // Обработчик изменения размера окна
        window.addEventListener('resize', function() {
            if (isMobile()) {
                // На мобилке всегда развернутое состояние
                nav.classList.remove('collapsed');
                isCollapsed = false;
                userManuallyOpened = false;
            } else {
                // При переходе на десктоп сбрасываем флаг ручного открытия
                userManuallyOpened = false;
            }
        });

        // Инициализация при загрузке
        if (isMobile()) {
            nav.classList.remove('collapsed');
            isCollapsed = false;
            userManuallyOpened = false;
        }

        // Автоматическое сворачивание при первой загрузке (только для десктопа)
        window.addEventListener('load', function() {
            if (!isMobile()) {
                setTimeout(() => {
                    collapseNav();
                }, 1000);
            }
        });
    </script>
</body>
</html>